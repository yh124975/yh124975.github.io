window.__require=function t(e,i,n){function s(c,r){if(!i[c]){if(!e[c]){var p=c.split("/");if(p=p[p.length-1],!e[p]){var a="function"==typeof __require&&__require;if(!r&&a)return a(p,!0);if(o)return o(p,!0);throw new Error("Cannot find module '"+c+"'")}}var u=i[c]={exports:{}};e[c][0].call(u.exports,function(t){return s(e[c][1][t]||t)},u,u.exports,t,e,i,n)}return i[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<n.length;c++)s(n[c]);return s}({Bird1:[function(t,e,i){"use strict";cc._RF.push(e,"726a9SgnyxMcZQizs/f0XKN","Bird1"),cc.Class({extends:cc.Component,properties:{gravity:0,birdjump:0,AniName:"",audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.getComponent(cc.Animation).play(this.AniName),this.velocity=0},startdrop:function(){this.schedule(this.onDrop,.01)},onDrop:function(){this.node.y+=this.velocity,this.velocity-=this.gravity},onJump:function(){this.velocity=this.birdjump,cc.audioEngine.playEffect(this.audio,!1)},start:function(){}}),cc._RF.pop()},{}],Constant:[function(t,e,i){"use strict";cc._RF.push(e,"c72e0UNZdxHcqi17hZAsJFM","Constant");var n=cc.Enum({GROUND_MOVE_INTERVAL:.05,GROUND_VX:-5,PIPE_UP:0,PIPE_DOWN:1,GAMEOVER_TXT:"0_0 \u5c0f\u83dc\u9e21",HIGHSCORE_TXT:"HighScore:"});e.exports=n,cc._RF.pop()},{}],background:[function(t,e,i){"use strict";cc._RF.push(e,"998c2UZvI1BEqpvdVntDVgQ","background");var n=t("Constant");cc.Class({extends:cc.Component,properties:{groundNode:{default:[],type:[cc.Node]},groundImg:{default:null,type:cc.Sprite}},onLoad:function(){this._size=cc.winSize,this._width=this.groundImg.spriteFrame.getRect().width},startBgMove:function(){this.schedule(this.groundmove,.05)},groundmove:function(){this.groundNode[0].x+=n.GROUND_VX,this.groundNode[1].x+=n.GROUND_VX,this.groundNode[0].x+this._width<0&&(this.groundNode[0].x=this._size.width-5),this.groundNode[1].x+this._width<0&&(this.groundNode[1].x=this._size.width-5)},start:function(){}}),cc._RF.pop()},{Constant:"Constant"}],game:[function(t,e,i){"use strict";cc._RF.push(e,"4c4ebJk+HJNUKnGrZviDv+U","game");var n=t("background"),s=t("Constant"),o=(t("pipe"),t("Bird1"));cc.Class({extends:cc.Component,properties:{gameReflashTime:5,gameOverText:{default:null,type:cc.Label},bird:{default:null,type:o},gameMenu:{default:null,type:cc.Node},background:{default:null,type:n},scoreText:{default:null,type:cc.Label},pipesNode:{default:null,type:cc.Node},pipePrefabs:{default:[],type:[cc.Prefab]},pipeMaxOffsetY:0,pipeMinGap:0,pipeMaxGap:0,pipeSpawnInterval:4.5,pipeSpawnOffsetX:30,scoreScaleDuratuion:.2},onLoad:function(){this.setInputControl(),this.pipes=[],this.size=cc.winSize;var t=this.background.groundNode[0].getBoundingBox();this.groundTop=t.y+t.height,this.isGameOver=!1,this.curScore=0},setInputControl:function(){cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:this._onTouchBegan.bind(this)},this.node)},_onTouchBegan:function(t,e){!0!==this.isGameOver&&this.bird.onJump()},onStartGame:function(){this.gameMenu.active=!1,this.bird.startdrop(),this.background.startBgMove(),this.scoreText.string=""+this.curScore,this.schedule(this.spawnPipes,this.pipeSpawnInterval),this.schedule(this.gameUpdate,s.GROUND_MOVE_INTERVAL)},spawnPipes:function(){var t=cc.instantiate(this.pipePrefabs[s.PIPE_UP]);t.getComponent("pipe").init(s.PIPE_UP);var e=t.getComponent("cc.Sprite").spriteFrame.getRect().height;t.x=this.size.width/2+this.pipeSpawnOffsetX,t.y=Math.floor(Math.random()*this.pipeMaxOffsetY)+e/2;var i=cc.instantiate(this.pipePrefabs[s.PIPE_DOWN]);i.getComponent("pipe").init(s.PIPE_DOWN),i.x=this.size.width/2+this.pipeSpawnOffsetX;var n=Math.floor(Math.random()*(this.pipeMaxGap-this.pipeMinGap))+this.pipeMinGap;i.y=t.x-n-e,this.pipesNode.addChild(t),this.pipesNode.addChild(i),this.pipes.push(t),this.pipes.push(i)},gameUpdate:function(){if(this.bird.node.y<this.groundTop)this.onGameOver();else for(var t=0;t<this.pipes.length;t++){var e=this.pipes[t];e.x+=s.GROUND_VX;var i=this.bird.node.getBoundingBox(),n=e.getBoundingBox();if(cc.Intersection.rectRect(i,n))return void this.onGameOver();var o=e.getComponent("pipe");e.x<this.bird.node.x&&0==o.isPass&&o.type==s.PIPE_UP&&(o.isPass=!0,this.addScore()),e.x<-(this.size.width/2+s.PIPE_SPAWN_OFFSET_X)&&(this.pipes.splice(t,1),this.pipesNode.removeChild(e,!0))}},addScore:function(){this.curScore++,this.scoreText.string=""+this.curScore},onGameOver:function(){this.isGameOver=!0,this.gameOverText.string=s.GAMEOVER_TXT,this.bird.unscheduleAllCallbacks(),this.background.unscheduleAllCallbacks(),this.unscheduleAllCallbacks(),this.schedule(function(){cc.director.loadScene("mainScene")},3)},update:function(t){}}),cc._RF.pop()},{Bird1:"Bird1",Constant:"Constant",background:"background",pipe:"pipe"}],pipe:[function(t,e,i){"use strict";cc._RF.push(e,"0ba90p0UVxNy6TvsLhNX1iU","pipe"),cc.Class({extends:cc.Component,properties:{isPass:!1},init:function(t){this.type=t},start:function(){}}),cc._RF.pop()},{}],storage:[function(t,e,i){"use strict";cc._RF.push(e,"d28ffMBf4RLlYRE8IdeIBjy","storage"),cc._RF.pop()},{}]},{},["Bird1","Constant","background","game","pipe","storage"]);